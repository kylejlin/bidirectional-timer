(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),s=n(2),o=n.n(s),r=(n(15),n(6)),c=n(3),l=n(4),u=n(7),m=n(5),h=n(8),p=(n(16),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={time:0,direction:-0,stopTime:3e4,last:Date.now(),isPauseMenuOpen:!1,isTimerMenuOpen:!1},e.bindListeners(),e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"bindListeners",value:function(){this.startOrReverseTimer=this.startOrReverseTimer.bind(this),this.updateTime=this.updateTime.bind(this),this.pause=this.pause.bind(this),this.resume=this.resume.bind(this),this.openTimerMenu=this.openTimerMenu.bind(this),this.closeTimerMenu=this.closeTimerMenu.bind(this),this.resetTimer=this.resetTimer.bind(this),this.setPendingStopTime=this.setPendingStopTime.bind(this),this.populatePendingStopTime=this.populatePendingStopTime.bind(this),this.applyAndClearPendingStopTime=this.applyAndClearPendingStopTime.bind(this)}},{key:"render",value:function(){var e=this.state,t=e.time,n=e.stopTime;return Math.abs(t)<n?this.renderRunning():this.renderStopped()}},{key:"renderRunning",value:function(){var e=this.state.time,t=e<0?"-":"+";return a.a.createElement("div",{className:"App App--".concat(this.color())},a.a.createElement("div",{className:"Time",onClick:this.startOrReverseTimer},t,T(e)),0===this.state.direction?a.a.createElement("div",{className:"PauseMenu"},a.a.createElement(d,{text:"\u25b6",onClick:this.resume}),a.a.createElement(d,{text:"1:23",smallTextEnabled:!0,onClick:this.openTimerMenu})):a.a.createElement("div",{className:"OpenPauseMenuButtonContainer"},a.a.createElement(d,{text:"||",onClick:this.pause})),this.state.isTimerMenuOpen&&a.a.createElement("div",{className:"TimerMenu"},a.a.createElement("div",{className:"CloseTimerMenuButtonContainer"},a.a.createElement(d,{text:"X",onClick:this.closeTimerMenu})),a.a.createElement("label",null,"Stop time:",a.a.createElement("input",{type:"text",value:this.state.pendingStopTime,onChange:this.setPendingStopTime,onFocus:this.populatePendingStopTime,onBlur:this.applyAndClearPendingStopTime})),a.a.createElement("span",null,"Reset current time",a.a.createElement(d,{text:"\u21ba",onClick:this.resetTimer}))))}},{key:"renderStopped",value:function(){var e=this.state,t=e.time,n=e.stopTime,i=t<0?"-":"+";return a.a.createElement("div",{className:"App App--".concat(this.color())},a.a.createElement("div",{className:"Time Time--stopped"},i,T(n)),a.a.createElement("div",{className:"ResetStoppedTimerButtonContainer"},a.a.createElement(d,{text:"\u21ba",onClick:this.resetTimer})))}},{key:"componentDidMount",value:function(){this.updateTime()}},{key:"startOrReverseTimer",value:function(){0===this.state.direction?this.setState({direction:v(this.state.direction),last:Date.now()}):this.setState(function(e){return{direction:-e.direction,last:Date.now()}})}},{key:"updateTime",value:function(){requestAnimationFrame(this.updateTime),this.setState(function(e){var t=Date.now(),n=t-e.last;return{time:e.time+n*e.direction,last:t}})}},{key:"pause",value:function(){this.setState({direction:f(this.state.direction)})}},{key:"resume",value:function(){this.setState({direction:v(this.state.direction)})}},{key:"openTimerMenu",value:function(){this.setState({isTimerMenuOpen:!0,pendingStopTime:T(this.state.stopTime)})}},{key:"closeTimerMenu",value:function(){this.setState({isTimerMenuOpen:!1})}},{key:"resetTimer",value:function(){this.setState({time:0,direction:-0,isTimerMenuOpen:!1})}},{key:"setPendingStopTime",value:function(e){this.setState({pendingStopTime:e.target.value})}},{key:"populatePendingStopTime",value:function(){this.setState({pendingStopTime:T(this.state.stopTime)})}},{key:"applyAndClearPendingStopTime",value:function(){var e=function(e){if("infinity"===e.toLowerCase())return 1/0;var t=e.split(":");if(2===t.length){var n=Object(r.a)(t,2),i=n[0],a=n[1],s=[parseInt(i,10),parseFloat(a,10)],o=s[0],c=s[1];return 1e3*(60*o+c)}return NaN}(this.state.pendingStopTime)||this.state.stopTime;this.setState({pendingStopTime:T(e),stopTime:e})}},{key:"color",value:function(){return v(this.state.direction)>0?"black":"white"}}]),t}(a.a.Component));function d(e){var t=e.onClick,n=e.smallTextEnabled,i=void 0!==n&&n,s=e.text;return a.a.createElement("button",{className:"CircleButton"+(i?" CircleButton--small-text":""),onClick:t},s)}function v(e){return e>0?1:e<0?-1:Object.is(-0,e)?-1:1}function f(e){if(e>0)return 0;if(e<0)return-0;throw new TypeError("Sign must be either greater than or less than zero.")}function T(e){var t,n=Math.floor(.001*Math.abs(e));return""+Math.floor(n/60)+":"+(2===(t=""+n%60).length?t:"0"+t)}var g=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function b(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(a.a.createElement(p,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/bidirectional-timer",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/bidirectional-timer","/service-worker.js");g?(function(e,t){fetch(e).then(function(n){var i=n.headers.get("content-type");404===n.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):b(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):b(t,e)})}}()},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.99c7c422.chunk.js.map